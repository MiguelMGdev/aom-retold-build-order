<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AOM RETOLD BUILDER</title>
    <link rel="icon" href="https://static.wikia.nocookie.net/ageofempires/images/3/38/AoMR_Zeus_icon.png"
        type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/create_build_css.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
</head>

<body class="bg-dark-custom text-light-custom">
    <header class="bg-dark text-white py-3">
        <div class="container">
            <h1 class="text-center">Age of Mythology Retold Builder</h1>
            <nav class="nav justify-content-center">
                <a class="nav-link text-white" href="./index.html">Inicio</a>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                        aria-expanded="false">Builds</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Griegos</a></li>
                        <li><a class="dropdown-item" href="/norse/nordicos.html">Nórdicos</a></li>
                        <li><a class="dropdown-item" href="#">Egipcios</a></li>
                        <li><a class="dropdown-item" href="#">Atlantes</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="/build.html">Todas las mitologías</a></li>
                    </ul>
                </li>
                <a class="nav-link text-white" href="/create_build.html">Crear Build Order</a>
                <a class="nav-link text-white" href="https://www.youtube.com/@ageofempires/featured" target="_blank"
                    rel="noopener noreferrer">Trailers</a>
                <a class="nav-link text-white"
                    href="https://store.steampowered.com/app/1934680/Age_of_Mythology_Retold/" target="_blank"
                    rel="noopener noreferrer">Descargar</a>
            </nav>
        </div>
    </header>
    <div style="margin-top: 70px;"></div>
    <!--Tabla-->
    <div class="container">
        <table class="table custom-table">
            <thead>
                <tr>
                    <th scope="col" class="resources"><img src="/assets/hud/timetobuild.png" alt="Time to Build">
                    </th>
                    <th scope="col" class="resources"><img src="/assets/hud/FoodAOM.png" alt="Food"></th>
                    <th scope="col" class="resources"><img src="/assets/hud/WoodAOM.png" alt="Wood"></th>
                    <th scope="col" class="resources"><img src="/assets/hud/GoldAOM.png" alt="Gold"></th>
                    <th scope="col" class="resources"><img src="/assets/hud/FavorAOM.png" alt="Favor"></th>
                    <th scope="col" class="editable" contenteditable="true"><b>BUILD ORDER</b></th>
                </tr>
            </thead>
            <tbody class="table-group-divider">

            </tbody>
        </table>
    </div>
    <!--Tabla-->
    <div style="margin-top: 100px;"></div>
    <div class="container" style="margin-bottom: 20px;">
        <label for="colorPicker">Color del borde inferior:</label>
        <input type="color" id="colorPicker" value="#0000ff">
        <input type="text" id="colorCode" value="#0000ff" readonly>
    </div>
    <div class="container">
        <button id="addRowBtn" class="btn btn-primary mb-3">Añadir Fila</button>
        <button id="download-btn" class="btn btn-primary mb-3">Descargar build order como imagen</button>
    </div>

    <div class="container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="griegos-tab" data-bs-toggle="tab" href="#griegos" role="tab">Griegos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="egipcios-tab" data-bs-toggle="tab" href="#egipcios" role="tab">Egipcios</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="nordicos-tab" data-bs-toggle="tab" href="#nordicos" role="tab">Nórdicos</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="atlantes-tab" data-bs-toggle="tab" href="#atlantes" role="tab">Atlantes</a>
            </li>
        </ul>

        <div class="tab-content image-selector">
            <div class="tab-pane fade show active" id="griegos" role="tabpanel" aria-labelledby="griegos-tab">
                Contenido de Griegos
            </div>
            <div class="tab-pane fade" id="egipcios" role="tabpanel" aria-labelledby="egipcios-tab">
                Contenido de Egipcios
            </div>
            <div class="tab-pane fade" id="nordicos" role="tabpanel" aria-labelledby="nordicos-tab">
                Contenido de Nórdicos
            </div>
            <div class="tab-pane fade" id="atlantes" role="tabpanel" aria-labelledby="atlantes-tab">
                Contenido de Atlantes
            </div>
        </div>


    </div>

    <button type="button" id="scrollTopBtn" class="btn btn-light" onclick="scrollToTop()" title="Volver arriba"
        style="position: fixed; bottom: 20px; right: 20px; border-radius: 50%; border: none; background-color: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.2); padding: 8px; z-index: 1000;">
        <img src="https://cdn-icons-png.flaticon.com/512/992/992703.png" alt="Scroll to Top"
            style="width: 30px; height: auto;">
    </button>
    
    <div class="container" style="margin-top: 100px;">
        <footer class="bg-dark text-white py-4">
            <div class="container">
                <div class="row mb-4">
                    <div class="col-md-4 mb-3 mb-md-0">
                        <h5>Información</h5>
                        <p>Página web creada sin fines de lucro, con intención de promover los RTS y facilitar su
                            aprendizaje.</p>
                        <b>
                            <a href="/sobre_nosotros.html" class="text-white text-decoration-none">
                                Sobre nosotros
                            </a>
                        </b>
                    </div>
                    <div class="col-md-4 mb-3 mb-md-0">
                        <h5>Contacto</h5>
                        <ul class="list-unstyled">
                            <a href="mailto:miguelguillen24mg@gmail.com" class="text-white text-decoration-none">
                                <b>Correo: </b>miguelguillen24mg@gmail.com
                            </a>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5>Derechos de Autor</h5>
                        <p>Toda la información es recopilada de sitios web, videos de YouTube, los derechos del
                            juego, recursos como imágenes, videos y todo lo relacionado a
                            Age of Mythology son propiedad de Microsoft.</p>
                    </div>
                </div>

                <hr class="bg-white">
                <div class="d-flex justify-content-center mb-3">
                    <a href="https://www.twitch.tv/hawkslytw" target="_blank" rel="noopener noreferrer">
                        <img src="https://cdn-icons-png.flaticon.com/512/733/733577.png " class="img-fluid" alt="Twitch"
                            style="width: 40px; margin: 0 10px;">
                    </a>
                    <a href="https://x.com/HawkslyTW" target="_blank" rel="noopener noreferrer">
                        <img src="https://cdn-icons-png.flaticon.com/512/5969/5969020.png" class="img-fluid"
                            alt="Twitter" style="width: 40px; margin: 0 10px;">
                    </a>
                    <a href="https://paypal.me/GuillenMMA?country.x=PE&locale.x=es_XC" target="_blank"
                        rel="noopener noreferrer">
                        <img src="https://cdn-icons-png.flaticon.com/512/732/732096.png" class="img-fluid" alt="Paypal"
                            style="width: 40px; margin: 0 10px;">
                    </a>
                </div>
                <p class="text-center mb-0">Creado por <strong>HawkslyTW</strong> &copy; 2024. Todos los derechos
                    reservados.</p>
            </div>
        </footer>

    </div>

    <script src="/JS/botton_up.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/JS/create_build_js.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('#myTab a');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('href').substring(
                        1);
                    loadImages(tabId);
                });
            });

            const activeTab = document.querySelector('#myTab .nav-link.active');
            if (activeTab) {
                const initialTabId = activeTab.getAttribute('href').substring(1);
                loadImages(initialTabId);
            }
        });

        async function loadImages(tabId) {
            const container = document.getElementById(tabId);
            container.innerHTML = '';

            try {
                const response = await fetch(`/assets/${tabId}/images.json`);
                const images = await response.json();

                images.forEach(url => {
                    const img = document.createElement('img');
                    img.src = `/assets/${tabId}/${url}`;
                    img.draggable = true;
                    img.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', img.src);
                    });
                    container.appendChild(img);
                });
            } catch (error) {
                console.error('Error loading images:', error);
            }
        }
        document.querySelectorAll('.image-selector img').forEach(img => {
            img.addEventListener('dragstart', (event) => {
                event.dataTransfer.setData('text/plain', event.target.src);
            });
        });
        document.getElementById("download-btn").addEventListener("click", () => {
            const table = document.querySelector(".custom-table");
            html2canvas(table).then((canvas) => {
              const link = document.createElement("a");
              link.href = canvas.toDataURL("image/png");
              link.download = "tabla.png";
              link.click();
            });
          });
          
    </script>
</body>

</html>